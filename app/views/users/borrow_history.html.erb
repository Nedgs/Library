<!DOCTYPE html>
<html>
  <head>
    <title>Borrow History</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
  </head>

  <body class="bg-light">
    <div class="container mt-5">
      <h1 class="text-center text-success">Borrow History</h1>
      <% if @borrow_history.any? %>
        <ul class="list-group">
          <% @borrow_history.each do |borrow| %>
            <li class="list-group-item">
              <%= borrow.book.title %> by <%= borrow.book.author %>
              <br>
              Borrowed on: <%= borrow.started_at.strftime("%B %d, %Y") %>
              <% if borrow.ended_at %>
                <br>
                Returned on: <%= borrow.ended_at.strftime("%B %d, %Y") %>
              <% else %>
                <br>
                <span class="text-danger">Currently borrowed</span>
              <% end %>
            </li>
          <% end %>
        </ul>
      <% else %>
        <p class="text-center text-muted">No borrow history available.</p>
      <% end %>
      <div class="text-center mt-4">
        <%= link_to 'Back to Books List', books_path, class: 'btn btn-secondary' %>
      </div>
    </div>
  </body>
</html>
